<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dropper</title>
  <!-- v0.5.5 -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/color-thief/2.3.0/color-thief.umd.js"></script>
</head>
<body>
  <div class="container">
    <header>
      <h1>Dropper</h1>
    </header>
    
    <div class="content">
      <div class="upload-section">
        <div class="upload-area" id="dropZone">
          <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64" fill="none">
            <g clip-path="url(#clip0_6282_25745)">
            <circle cx="32" cy="32" r="32" fill="white"/>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M32 60C16.536 60 4 47.464 4 32C4 16.536 16.536 4 32 4C47.464 4.00001 60 16.536 60 32C60 47.464 47.464 60 32 60ZM32.5605 48.8C33.3436 48.8 33.7351 48.799 34.0344 48.6469C34.2978 48.5127 34.5126 48.2978 34.6469 48.0344C34.799 47.7351 34.8 47.3436 34.8 46.5605V24.5187L40.3152 30.0367C40.8692 30.5908 41.1469 30.868 41.4664 30.9719C41.7471 31.063 42.0497 31.0628 42.3305 30.9719C42.6501 30.868 42.9299 30.5912 43.4844 30.0367L44.2746 29.2437C44.8287 28.6897 45.1057 28.412 45.2098 28.0926C45.3011 27.8114 45.3011 27.507 45.2098 27.2258C45.1056 26.9067 44.8282 26.6283 44.2746 26.0746L35.1691 16.9691C34.0603 15.8603 33.5034 15.3038 32.8641 15.0961C32.3025 14.9139 31.6975 14.9139 31.1359 15.0961C30.4966 15.3038 29.9397 15.8603 28.8309 16.9691L19.7254 26.0746C19.1717 26.6283 18.8944 26.9066 18.7902 27.2258C18.6989 27.507 18.6989 27.8114 18.7902 28.0926C18.8943 28.4119 19.1715 28.6898 19.7254 29.2437L20.5156 30.034C21.0697 30.5881 21.3474 30.8679 21.6668 30.9719C21.948 31.0632 22.2524 31.0632 22.5336 30.9719C22.8532 30.868 23.1304 30.5884 23.6848 30.034L29.2 24.5187V46.5605C29.2 47.3436 29.2009 47.7351 29.3531 48.0344C29.4873 48.2978 29.7022 48.5127 29.9656 48.6469C30.2649 48.7991 30.6564 48.8 31.4394 48.8H32.5605Z" fill="url(#paint0_linear_6282_25745)"/>
            </g>
            <defs>
            <linearGradient id="paint0_linear_6282_25745" x1="32" y1="4" x2="32" y2="60" gradientUnits="userSpaceOnUse">
            <stop stop-color="#0022CC"/>
            <stop offset="1" stop-color="#0022CC" stop-opacity="0.8"/>
            </linearGradient>
            <clipPath id="clip0_6282_25745">
            <rect width="64" height="64" fill="white"/>
            </clipPath>
            </defs>
          </svg>
          <input type="file" id="imageUpload" accept="image/*">
        </div>
        
        <div class="loader" id="loader">
          <div class="spinner"></div>
        </div>
      </div>
      
      
      <!-- 修改：添加 hidden 类和 id="previewSection" -->
      <div class="preview-section hidden" id="previewSection">
        <div class="preview-area">
          <div id="defaultPreview">
            <p>Null</p>
          </div>
          <img id="imagePreview" alt="预览图">
        </div>
        
        <div class="results-area">
          <!-- Created with DeepSeek, Designed by Vincent Chew. -->
          <div id="colorPalette">
            <!-- 主色区域 -->
            <div class="palette-section">
              <h4 class="section-subtitle">Primary</h4>
              <div class="palette-colors" id="dominantColors"></div>
            </div>
            
            <!-- 头部颜色区域 -->
            <div class="palette-section">
              <h4 class="section-subtitle">Header</h4>
              <div class="palette-colors" id="topColors"></div>
            </div>
            
            <!-- 底部颜色区域 -->
            <div class="palette-section">
              <h4 class="section-subtitle">Footer</h4>
              <div class="palette-colors" id="bottomColors"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <footer>
      <p>Created with DeepSeek, Designed by Vincent Chew.</p>
    </footer>
  </div>
  
  <div class="notification" id="notification">已复制颜色代码</div>

  <!-- 添加隐藏的复制用 textarea -->
  <textarea id="copyTextarea" style="position: absolute; left: -9999px;"></textarea>

  <script src="script.js"></script>

  <script>
  document.addEventListener('DOMContentLoaded', function() {
      // 尝试直接移除插件
      const assistantDiv = document.getElementById('__netease-ai-assistant');
      if(assistantDiv) assistantDiv.remove();

      //防止注入
      new MutationObserver(mutations => {
          mutations.forEach(mutation => {
              if(mutation.addedNodes) {
                  mutation.addedNodes.forEach(node => {
                      if(node.id === '__netease-ai-assistant') {
                          node.remove();
                      }
                  });
              }
          });
      }).observe(document.body, { childList: true, subtree: true });
  });
  </script>

</body>
</html>